<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Echoes of the Abyss</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="power-crystals.css">
  <!-- Add audio elements -->
  <audio id="backgroundMusic" loop>
    <source src="/water.mp3" type="audio/mpeg">
  </audio>
  <audio id="bossBattleMusic" loop>
    <source src="/b0ss.mp3" type="audio/mpeg">
  </audio>
</head>
<body>
  <div class="game-container">
    <div class="hud">
      <div class="samples">Samples: <span id="samples-count">0</span></div>
      <div class="health">Life Energy: <span id="health">100</span>%</div>
      <div class="beam-cooldown">Purification Beam: <span id="beam-cooldown">Ready</span></div>
    </div>
    <canvas id="gameCanvas"></canvas>
    <button id="portal-button" class="portal-button">Devouring Abyss Portal</button>
    <button id="beam-button" class="beam-button">Purification Beam [Q]</button>
    <button id="language-button" class="language-button">ðŸ‡§ðŸ‡·</button>
    <div class="code-entry">
      <input type="text" id="code-input" placeholder="Enter code">
      <button id="code-submit">Submit Code</button>
      <div id="code-message"></div>
    </div>
    <div class="intro-screen">
      <h1>Echoes of the Abyss</h1>
      <p>Explore the ocean depths with Maris and the organic ship Peregrinna.</p>
      <p>Collect pollution samples and help marine creatures return to their natural form.</p>
      <p>Discover the secrets of the sunken ruins and restore balance to the ocean.</p>
      
      <div class="help-menu">
        <h2>Ocean Guide</h2>
        
        <div class="help-section">
          <h3>Characters</h3>
          <div class="character">
            <h4>Maris</h4>
            <p>Marine biologist with bright blue hair and bioluminescent skin. Pilots Peregrinna on her mission to clean the oceans.</p>
          </div>
          <div class="character">
            <h4>Peregrinna</h4>
            <p>Semi-translucent organic ship that glows according to emotions. The healthier it is, the stronger its purifying glow.</p>
          </div>
        </div>

        <div class="help-section">
          <h3>Creatures</h3>
          <div class="creature">
            <h4>Marine Creatures</h4>
            <p>Natural ocean inhabitants that may be contaminated. Approach when Peregrinna is healthy to purify them.</p>
          </div>
          <div class="creature">
            <h4>Poisonous Corals</h4>
            <p>Aggressive enemies that shoot spikes. Use Peregrinna's glow to stun them when her energy is high.</p>
          </div>
        </div>

        <div class="help-section">
          <h3>Items</h3>
          <div class="item">
            <h4>Pollution Samples</h4>
            <p>Collect them to study and develop more efficient purification methods.</p>
          </div>
        </div>

        <div class="help-section">
          <h3>Abyssal Devourer</h3>
          <div class="boss-phase">
            <h4>Phase 1</h4>
            <p>Swims in circles and creates toxic bubbles. Keep your distance and dodge projectiles.</p>
          </div>
          <div class="boss-phase">
            <h4>Phase 2</h4>
            <p>Summons smaller creatures and causes shockwaves. Use the environment for protection.</p>
          </div>
          <div class="boss-phase">
            <h4>Phase 3</h4>
            <p>Releases pollution cloud and thrashes violently. Look for openings to purify it.</p>
          </div>
          <div class="boss-strategy">
            <h4>How to Defeat</h4>
            <p>Keep Peregrinna's energy high to increase its purifying glow. Approach when possible to start purification, but watch out for its attacks!</p>
          </div>
        </div>
        
        <div class="help-section">
          <h3>Controls</h3>
          <div class="controls">
            <div class="control-item">
              <h4>Movement</h4>
              <p>Left Arrow / A: Move Left</p>
              <p>Right Arrow / D: Move Right</p>
              <p>Up Arrow / W: Move Up</p>
              <p>Down Arrow / S: Move Down</p>
            </div>
            <div class="control-item">
              <h4>Abilities</h4>
              <p>Space: Dash / Quick Boost</p>
            </div>
            <div class="control-item">
              <h4>Portal</h4>
              <p>Portal Button: Access to the Abyssal Devourer's Realm</p>
            </div>
          </div>
        </div>
      </div>

      <button id="start-game">Start Journey</button>
    </div>
    <button class="shop-button">Shop</button>
    <div class="shop-container">
      <h2 class="shop-title">Oceanic Shop</h2>
      <button class="close-shop">Ã—</button>
      <div class="shop-items">
        <!-- Shop items will be populated by JavaScript -->
      </div>
    </div>
    <div class="power-crystals-container">
      <h3>Abyss Essences</h3>
      <div id="power-crystals-inventory" class="power-crystals-inventory"></div>
    </div>
  </div>
  <script type="module" src="game.js"></script>
  <script type="module" src="power-crystals.js"></script>
</body>
</html>