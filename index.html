<title>MATRIXHOUSE</title>
<style>
    body, html {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-color: #000;
        font-family: 'Courier New', monospace;
    }
    canvas {
        position: absolute;
        top: 0;
        left: 0;
    }
    .overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        color: #0f0;
        text-shadow: 0 0 5px #0f0;
    }
    #info-overlay {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        padding: 20px;
        box-sizing: border-box;
        font-size: 14px;
    }
    #top-info, #bottom-info {
        display: flex;
        justify-content: space-between;
    }
    #central-display {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 48px;
        text-align: center;
    }
    #tocos-kaos {
        position: absolute;
        bottom: 10px;
        right: 10px;
        font-size: 24px;
        color: #FF5733;
        animation: glitch 1s infinite;
    }
    @keyframes glitch {
        0% { transform: translate(0); }
        20% { transform: translate(-5px, 5px); }
        40% { transform: translate(5px, -5px); }
        60% { transform: translate(-5px, -5px); }
        80% { transform: translate(5px, 5px); }
        100% { transform: translate(0); }
    }
    #triforce {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }
    .triangle {
        width: 0;
        height: 0;
        border-left: 50px solid transparent;
        border-right: 50px solid transparent;
        border-bottom: 86.6px solid rgba(255, 215, 0, 0.5);
        position: absolute;
        transition: all 0.5s ease;
    }
    #triangle1 { top: -86.6px; left: -50px; }
    #triangle2 { top: 0; left: -100px; }
    #triangle3 { top: 0; left: 0; }
</style>
</head>
<body>
<canvas id="matrix-canvas"></canvas>
<canvas id="dmt-canvas"></canvas>
<canvas id="fractal-canvas"></canvas>
<div class="overlay" id="info-overlay">
    <div id="top-info">
        <span>Node: NESOROX</span>
        <span>State: EIGNSTATE</span>
    </div>
    <div id="central-display">
        <div id="qsm-display">QSM₀₁₀₁₁₀₀₁₁</div>
        <div id="fractal-info">Fractal Dimension: <span id="dimension">666</span></div>
    </div>
    <div id="bottom-info">
        <span>Quantum Flux: <span id="flux">0</span></span>
        <span>Psilocybin Morph: <span id="morph">0</span></span>
    </div>
    <div id="tocos-kaos">TOCOS—KAOS</div>
</div>
<div class="overlay">
    <div id="triforce">
        <div class="triangle" id="triangle1"></div>
        <div class="triangle" id="triangle2"></div>
        <div class="triangle" id="triangle3"></div>
    </div>
</div>

<script>
const matrixCanvas = document.getElementById('matrix-canvas');
const matrixCtx = matrixCanvas.getContext('2d');
const dmtCanvas = document.getElementById('dmt-canvas');
const dmtCtx = dmtCanvas.getContext('2d');
const fractalCanvas = document.getElementById('fractal-canvas');
const fractalCtx = fractalCanvas.getContext('2d');

matrixCanvas.width = dmtCanvas.width = fractalCanvas.width = window.innerWidth;
matrixCanvas.height = dmtCanvas.height = fractalCanvas.height = window.innerHeight;

// Matrix rain
const matrix = "ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789@#$%^&*()*&^%∞∆§πΦλΩ₦";
const fontSize = 10;
const columns = matrixCanvas.width / fontSize;
const drops = [];

for (let x = 0; x < columns; x++) {
    drops[x] = 1;
}

const colors = ['#FF5733', '#C70039', '#900C3F', '#581845', '#3A0CA3', '#F72585'];

function drawMatrix() {
    matrixCtx.fillStyle = 'rgba(0, 0, 0, 0.04)';
    matrixCtx.fillRect(0, 0, matrixCanvas.width, matrixCanvas.height);

    matrixCtx.font = fontSize + 'px monospace';

    for (let i = 0; i < drops.length; i++) {
        const text = matrix[Math.floor(Math.random() * matrix.length)];
        matrixCtx.fillStyle = colors[Math.floor(Math.random() * colors.length)];
        matrixCtx.fillText(text, i * fontSize, drops[i] * fontSize);

        if (drops[i] * fontSize > matrixCanvas.height && Math.random() > 0.975) {
            drops[i] = 0;
        }

        drops[i]++;
    }
}

// DMT-inspired visuals
class Star {
    constructor() {
        this.reset();
    }

    reset() {
        this.x = Math.random() * dmtCanvas.width;
        this.y = Math.random() * dmtCanvas.height;
        this.size = Math.random() * 3 + 1;
        this.speed = Math.random() * 3 + 1;
        this.color = colors[Math.floor(Math.random() * colors.length)];
    }

    update() {
        this.y += this.speed;
        if (this.y > dmtCanvas.height) {
            this.reset();
        }
    }

    draw() {
        dmtCtx.fillStyle = this.color;
        dmtCtx.beginPath();
        dmtCtx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        dmtCtx.fill();
    }
}

const stars = Array(200).fill().map(() => new Star());

function drawDMT() {
    dmtCtx.fillStyle = 'rgba(0, 0, 0, 0.1)';
    dmtCtx.fillRect(0, 0, dmtCanvas.width, dmtCanvas.height);

    stars.forEach(star => {
        star.update();
        star.draw();
    });

    // Draw geometric patterns
    const time = Date.now() * 0.001;
    const centerX = dmtCanvas.width / 2;
    const centerY = dmtCanvas.height / 2;

    for (let i = 0; i < 6; i++) {
        const angle = (i / 6) * Math.PI * 2 + time;
        const x = centerX + Math.cos(angle) * 100;
        const y = centerY + Math.sin(angle) * 100;

        dmtCtx.strokeStyle = `hsl(${(i * 60 + time * 50) % 360}, 100%, 50%)`;
        dmtCtx.lineWidth = 2;
        dmtCtx.beginPath();
        dmtCtx.moveTo(centerX, centerY);
        dmtCtx.lineTo(x, y);
        dmtCtx.stroke();

        dmtCtx.beginPath();
        dmtCtx.arc(x, y, 20 + Math.sin(time * 2 + i) * 10, 0, Math.PI * 2);
        dmtCtx.stroke();
    }
}

// Fractal visualization
function drawFractal(x, y, size, depth) {
    if (depth <= 0) return;

    fractalCtx.beginPath();
    fractalCtx.moveTo(x, y);
    fractalCtx.lineTo(x + size, y);
    fractalCtx.lineTo(x + size / 2, y - size * Math.sqrt(3) / 2);
    fractalCtx.closePath();

    const hue = (Date.now() / 20 + depth * 30) % 360;
    fractalCtx.strokeStyle = `hsl(${hue}, 100%, 50%)`;
    fractalCtx.stroke();

    const newSize = size / 2;
    drawFractal(x, y, newSize, depth - 1);
    drawFractal(x + newSize, y, newSize, depth - 1);
    drawFractal(x + newSize / 2, y - newSize * Math.sqrt(3) / 2, newSize, depth - 1);
}

let quantumFlux = 0;
let psilocybinMorph = 0;

function updateInfo() {
    quantumFlux = Math.random();
    psilocybinMorph = Math.random();

    document.getElementById('flux').textContent = quantumFlux.toFixed(2);
    document.getElementById('morph').textContent = psilocybinMorph.toFixed(2);
}

function animateTriforce() {
    const triangles = document.querySelectorAll('.triangle');
    triangles.forEach((triangle, index) => {
        const hue = (Date.now() / 20 + index * 120) % 360;
        triangle.style.borderBottomColor = `hsla(${hue}, 100%, 50%, 0.5)`;
        triangle.style.transform = `rotate(${Math.sin(Date.now() / 1000 + index) * 10}deg)`;
    });
}

function animate() {
    drawMatrix();
    drawDMT();
    fractalCtx.clearRect(0, 0, fractalCanvas.width, fractalCanvas.height);
    drawFractal(fractalCanvas.width / 2 - 200, fractalCanvas.height / 2 + 100, 400, 7);
    updateInfo();
    animateTriforce();
    requestAnimationFrame(animate);
}

// QSM binary animation
const qsmDisplay = document.getElementById('qsm-display');
let qsmIndex = 0;
setInterval(() => {
    const qsm = "₀₁₀₁₁₀₀₁₁";
    qsmDisplay.innerHTML = "QSM" + qsm.substring(0, qsmIndex) + 
                           "<span style='color:#ff0'>" + qsm[qsmIndex] + "</span>" + 
                           qsm.substring(qsmIndex + 1);
    qsmIndex = (qsmIndex + 1) % qsm.length;
}, 500);

window.addEventListener('resize', () => {
    matrixCanvas.width = dmtCanvas.width = fractalCanvas.width = window.innerWidth;
    matrixCanvas.height = dmtCanvas.height = fractalCanvas.height = window.innerHeight;
});

animate();
</script>
</body>
</html>
